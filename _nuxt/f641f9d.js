(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{295:function(t,e,o){"use strict";o.r(e);o(47),o(68),o(76),o(154),o(84);var r=o(311),n={fetch:function(){this.fetchPostList(),this.fetchPostList2(),this.fetchPostDetail(),this.fecthStatistics(),this.fetchPostCategories(),this.fetchPopularList(),this.fetchCategoryList(),this.fetchCategories()},fetchOnServer:!1,data:function(){return{preview:null,posts:[],like:{},postDetail:{},format:r.a,lists:[],cats:[],categoris:[],uploadState:null,categories:[],form:{title:"",description:"",category:"",image:null}}},computed:{postImage:function(){return"https://cdn.erakomp.co.id/eraoffice/news/".concat(this.postDetail.image)},userPhoto:function(){return"https://cdn.erakomp.co.id/eraoffice/users/".concat(this.postDetail.user_photo,"?x-oss-process=image/resize,h_200")},splittedPostContent:function(){return(this.postDetail.description||"").split("\n")}},methods:{previewImage:function(t){var e=this,input=t.target;if(input.files){var o=new FileReader;o.onload=function(t){e.preview=t.target.result},this.form.image=input.files[0],o.readAsDataURL(input.files[0])}},fetchPostList:function(){var t=this;this.$axios.$post("/newsList",{limit:10}).then((function(e){t.posts=e.data}))},fetchPostList2:function(){var t=this;this.$axios.$post("/newsList",{limit:10}).then((function(e){t.postie=e.data}))},getResizedImage:function(t){return"https://cdn.erakomp.co.id/eraoffice/news/".concat(t,"?").concat("x-oss-process=image/resize,m_fill,h_250,w_250")},fetchPostDetail:function(){var t=this,e=parseInt(this.$route.params.id);this.$axios.$post("/newsSingle",{news_id:e}).then((function(e){t.postDetail=e.data}))},fetchPopularList:function(){var t=this;this.$axios.$post("/newsList",{limit:10,sort_by:"like"}).then((function(e){t.lists=e.data}))},fecthStatistics:function(){var t=this,data={news_id:parseInt(this.$route.params.id)};this.$axios.$post("/getNewsStatistic",data).then((function(e){e.status&&(t.like=e.data[0])}))},submitPostData:function(){var t=this,data=new FormData,e=this.form,title=e.title,o=e.description,r=e.category,image=e.image;data.append("title",title),data.append("description",o),data.append("category",r),data.append("image",image),this.$axios.$post("/addNews",data).then((function(e){e.status?t.$router.push("/"):t.errors=e.message}))},fetchPostCategories:function(){var t=this;this.$axios.$get("/newsCategory").then((function(e){t.categories=e.data}))},getImageUpload:function(){this.files=this.$refs.image.myFiles.files},fetchCategories:function(){var t=this;this.$axios.$get("/newsCategory",{limit:10}).then((function(e){t.categoris=e.data}))},fetchCategoryList:function(){var t=this;this.$axios.$post("newsList",{limit:3}).then((function(e){t.cats=e.data}))}}},l=o(40),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"w3l-searchblock w3l-homeblock1 py-5"},[o("div",{staticClass:"container py-lg-4 py-md-3"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-8 most-recent mr-0"},[o("h3",{staticClass:"section-title-left"},[t._v("\n          Add Content\n        ")]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-11 item"},[o("div",{staticClass:"card"},[o("div",{staticClass:"container mb-5"},[t.$fetchState.pending?t._e():o("div",[o("div",{staticClass:"card-header p-0 position-relative"}),t._v(" "),o("div",{staticClass:"card-body p-0 blog-details mb-3"},[o("div",[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"control-label col-sm-2",staticStyle:{"font-size":"14px"},attrs:{for:"title"}},[t._v("Post Title")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control col-sm-10",attrs:{id:"title",type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"control-label col-sm-2",staticStyle:{"font-size":"14px"},attrs:{for:"description"}},[t._v("Post Description")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control col-sm-10",attrs:{id:"description",cols:"5",rows:"10"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"control-label col-sm-2",staticStyle:{"font-size":"14px"},attrs:{for:"category"}},[t._v("Post Category")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.form.category,expression:"form.category"}],staticClass:"form-control col-sm-10",attrs:{id:"category"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"category",e.target.multiple?o:o[0])}}},t._l(t.categories,(function(e){return o("option",{key:e,domProps:{value:e}},[t._v("\n                            "+t._s(e)+"\n                          ")])})),0)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"control-label col-sm-2 ",staticStyle:{"font-size":"14px"}},[t._v("Post Image")]),t._v(" "),o("input",{staticClass:"col-6",attrs:{type:"file",state:Boolean(t.form.image),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},on:{change:function(e){return t.previewImage(e)}}}),t._v(" "),t.preview?[o("img",{staticClass:"img-fluid",staticStyle:{"border-radius":"20px"},attrs:{src:t.preview,width:"200"}})]:t._e()],2),t._v(" "),o("div",{staticClass:"form-group text-center"},[o("button",{staticClass:"btnn b-2",staticStyle:{"background-color":"white"},attrs:{type:"submit"},on:{click:t.submitPostData}},[t._v("\n                          Submit Article\n                        ")])])])])])])])])])]),t._v(" "),o("div",{staticClass:"col-lg-4 trending mt-lg-0 mt-5 "},[o("h3",{staticClass:"section-title-left"},[t._v("\n          Hot Trending\n        ")]),t._v(" "),t.$fetchState.pending?t._e():o("div",t._l(t.lists,(function(e){return o("div",{key:e.news_id,staticClass:" "},[o("div",{staticClass:"grids5-info"},[o("router-link",{attrs:{to:"/posts/"+e.news_id}},[o("b-card",{attrs:{"img-src":t.getResizedImage(e.image),alt:"Card image cap","img-height":"50"}})],1),t._v(" "),o("div",{staticClass:"blog-info"},[o("router-link",{attrs:{to:"/posts/"+e.news_id}},[t._v("\n                  "+t._s(e.title)+"\n                ")]),t._v(" "),o("div",{staticClass:"author align-items-center mt-2 mb-1",staticStyle:{"font-size":"14px"}},[o("i",[o("a",{attrs:{href:"#author"}},[t._v("By "+t._s(e.user_name))])])]),t._v(" "),o("ul",{staticClass:"blog-meta"},[o("li",{staticClass:"meta-item blog-lesson"},[o("span",{staticClass:"meta-value"},[t._v(" "+t._s(e.date_created)+" ")])])])],1)],1)])})),0),t._v(" "),o("h3",{staticClass:"section-title-left"},[t._v("\n          #TechTrends\n        ")]),t._v(" "),t.$fetchState.pending?t._e():o("div",t._l(t.posts,(function(e){return o("div",{key:e.news_id,staticClass:" "},["IT"===e.category?o("div",{staticClass:"grids5-info"},[o("router-link",{attrs:{to:"/posts/"+e.news_id}},[o("b-card",{attrs:{"img-src":t.getResizedImage(e.image),alt:"Card image cap","img-height":"50"}})],1),t._v(" "),o("div",{staticClass:"blog-info"},[o("router-link",{attrs:{to:"/posts/"+e.news_id}},[t._v("\n                  "+t._s(e.title)+"\n                ")]),t._v(" "),o("div",{staticClass:"author align-items-center mt-2 mb-1",staticStyle:{"font-size":"14px"}},[o("i",[o("a",{attrs:{href:"#author"}},[t._v("By "+t._s(e.user_name))])])]),t._v(" "),o("ul",{staticClass:"blog-meta"},[o("li",{staticClass:"meta-item blog-lesson"},[o("span",{staticClass:"meta-value"},[t._v(" "+t._s(e.date_created)+" ")])])])],1)],1):t._e()])})),0),t._v(" "),o("h3",{staticClass:"section-title-left"},[t._v("\n          #HelloWorld\n        ")]),t._v(" "),t.$fetchState.pending?t._e():o("div",t._l(t.cats,(function(e){return o("div",{key:e.news_id,staticClass:" "},["Other"===e.category?o("div",{staticClass:"grids5-info"},[o("router-link",{attrs:{to:"/posts/"+e.news_id}},[o("b-card",{attrs:{"img-src":t.getResizedImage(e.image),alt:"Card image cap","img-height":"50"}})],1),t._v(" "),o("div",{staticClass:"blog-info"},[o("router-link",{attrs:{to:"/posts/"+e.news_id}},[t._v("\n                  "+t._s(e.title)+"\n                ")]),t._v(" "),o("div",{staticClass:"author align-items-center mt-2 mb-1",staticStyle:{"font-size":"14px"}},[o("i",[o("a",{attrs:{href:"#author"}},[t._v("By "+t._s(e.user_name))])])]),t._v(" "),o("ul",{staticClass:"blog-meta"},[o("li",{staticClass:"meta-item blog-lesson"},[o("span",{staticClass:"meta-value"},[t._v(" "+t._s(e.date_created)+" ")])])])],1)],1):t._e()])})),0),t._v(" "),o("h3",{staticClass:"section-title-left "},[t._v("\n          Categories\n        ")]),t._v(" "),o("div",{staticClass:"mb-3",staticStyle:{"margin-top":"-7%"}},[o("router-link",{attrs:{to:"/posts/category"}},[o("span",{staticClass:" badge badge-primary"},[t._v("#IT")])]),t._v(" "),o("router-link",{attrs:{to:"/posts/finance"}},[o("span",{staticClass:" badge badge-primary"},[t._v("#Finance")])]),t._v(" "),o("router-link",{attrs:{to:"/posts/category"}},[o("span",{staticClass:" badge badge-primary"},[t._v("#HRD")])]),t._v(" "),o("router-link",{attrs:{to:"/posts/category"}},[o("span",{staticClass:" badge badge-primary"},[t._v("#Sales")])]),t._v(" "),o("router-link",{attrs:{to:"/posts/other"}},[o("span",{staticClass:" badge badge-primary"},[t._v("#Other")])])],1),t._v(" "),o("h3",{staticClass:"section-title-left "},[t._v("\n          Today's Weather\n        ")]),t._v(" "),t.$fetchState.pending?t._e():o("div",[t._l(t.posts,(function(t){return o("div",{key:t.news_id,staticClass:" "})})),t._v(" "),o("img",{attrs:{src:"https://www.theweather.com/wimages/foto03eeb73cd4bd5b2b1648aa27ad24ed9d.png"}})],2),t._v(" "),o("h3",{staticClass:"section-title-left mt-4"},[t._v("\n          Shop To Our Website\n        ")]),t._v(" "),o("a",{staticClass:"btnn b-2",attrs:{href:"https://erakomp.co.id/"}},[t._v("\n          Erakomp.co.id\n        ")]),t._v(" "),o("h3",{staticClass:"section-title-left mt-4"},[t._v("\n          Visit Our Website\n        ")]),t._v(" "),o("a",{staticClass:"btnn b-2",attrs:{href:"https://erakomp.com/"}},[t._v("\n          Erakomp.com\n        ")])])])])])}),[],!1,null,null,null);e.default=component.exports}}]);