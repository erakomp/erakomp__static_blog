(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{301:function(t,e,o){"use strict";o.r(e);var n={fetch:function(){this.fetchPostComment();var t=parseInt(this.$route.params.id);this.form.news_id=t},fetchOnServer:!1,data:function(){return{comments:[],form:{new_id:null,title:"",flag:"comment"}}},methods:{fetchPostComment:function(){var t=this,e=parseInt(this.$route.params.id);this.$axios.$post("/commentList",{news_id:e,limit:100}).then((function(e){t.comments=e.data}))},addComment:function(){var t=this,data=this.form;this.$axios.$post("/addComment",data).then((function(e){e.status&&(t.form.title="",t.$fetch())}))}}},m=o(40),component=Object(m.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card shadow",staticStyle:{"border-radius":"20px","margin-top":"-10%","margin-bottom":"5%"}},[o("div",{staticClass:"card-body"},[o("h1",{staticClass:"mb-4"},[t._v("\n      Give us your opinion?\n    ")]),t._v(" "),t.$auth.loggedIn?o("div",{staticClass:"comment-form row mb-3"},[o("div",{staticClass:"col-md-12 mb-2 float-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Leave a comment?"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col"},[o("button",{staticClass:"btnn float-right",on:{click:t.addComment}},[o("b",[t._v("\n            Comment")])])])]):t._e(),t._v(" "),t.comments?o("div",t._l(t.comments,(function(e){return o("div",{key:e.comment_id,staticClass:"col-sm-5 col-md-12 col-12 mb-2 p-3",staticStyle:{border:"1px solid #d3d3d3","border-radius":"10px"}},[o("img",{staticClass:"card-img-top",attrs:{src:"https://cdn.erakomp.co.id/eraoffice/comment/"+e.sales_image,alt:""}}),o("b",[t._v(" "+t._s(e.sales_name)+" ")]),t._v(" - "+t._s(e.title)+"\n        "),o("br"),t._v("\n        "+t._s(e.date_created)+"\n      ")])})),0):o("div",[o("p",[t._v("No comment")])])])])}),[],!1,null,null,null);e.default=component.exports}}]);